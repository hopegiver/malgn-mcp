{
  "category": "data",
  "total": 5,
  "rules": [
    {
      "id": "data-dataset-next",
      "category": "data",
      "severity": "error",
      "title": "DataSet next() 호출 필수",
      "rule": "DataSet에서 데이터 접근 전 반드시 next() 호출",
      "correct": "if(info.next()) { String name = info.s(\"name\"); }",
      "incorrect": "DataSet info = user.get(id);\nString name = info.s(\"name\"); // next() 누락"
    },
    {
      "id": "data-null-safe",
      "category": "data",
      "severity": "warning",
      "title": "DataSet.s() null 체크 불필요",
      "rule": "DataSet.s()는 null 대신 빈 문자열 반환. null 체크 불필요.",
      "correct": "String name = info.s(\"name\"); // 바로 사용",
      "incorrect": "if(info.s(\"name\") != null) { ... } // 불필요한 체크"
    },
    {
      "id": "data-rs-null-safe",
      "category": "data",
      "severity": "warning",
      "title": "m.rs() null 체크 불필요",
      "rule": "m.rs()는 null 대신 빈 문자열 반환.",
      "correct": "String keyword = m.rs(\"keyword\"); // 바로 사용",
      "incorrect": "if(m.rs(\"keyword\") != null && !\"\".equals(m.rs(\"keyword\"))) { ... }"
    },
    {
      "id": "data-setloop-cursor",
      "category": "data",
      "severity": "error",
      "title": "setLoop 커서 자동 초기화",
      "rule": "setLoop()에 전달된 DataSet은 커서가 자동 초기화됨. moveRow() 불필요.",
      "correct": "p.setLoop(\"list\", list);",
      "incorrect": "list.moveRow(0); // 존재하지 않는 메소드"
    },
    {
      "id": "data-bind-param",
      "category": "data",
      "severity": "error",
      "title": "바인딩 파라미터 사용",
      "rule": "SQL 쿼리에서 변수는 ? 플레이스홀더와 Object[] 사용",
      "correct": "user.find(\"WHERE id = ? AND status = ?\", new Object[]{id, \"active\"});",
      "incorrect": "user.find(\"WHERE id = '\" + id + \"'\");"
    },
    {
      "id": "data-addsearch-empty",
      "category": "data",
      "severity": "warning",
      "title": "addSearch 빈 값 자동 무시",
      "rule": "addSearch()는 keyword가 빈 문자열이면 자동으로 조건을 추가하지 않음",
      "correct": "lm.addSearch(\"name\", m.rs(\"keyword\"), \"like\");",
      "incorrect": "String kw = m.rs(\"keyword\");\nif(!kw.isEmpty()) { lm.addSearch(\"name\", kw, \"like\"); }"
    }
  ]
}
