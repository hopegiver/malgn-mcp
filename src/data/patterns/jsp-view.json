{
  "type": "jsp-view",
  "title": "상세 조회 (JSP)",
  "variables": {
    "TABLE_NAME": { "description": "테이블명", "example": "tb_board" },
    "DAO_CLASS": { "description": "DAO 클래스명", "example": "BoardDao" },
    "DAO_VAR": { "description": "DAO 변수명", "example": "board" }
  },
  "jsp_template": "<%@ page contentType=\"text/html; charset=utf-8\" %><%@ include file=\"/init.jsp\" %><%\n\nint id = m.ri(\"id\");\n\nif(id == 0) {\n    m.jsError(\"잘못된 접근입니다.\");\n    return;\n}\n\n{DAO_CLASS} {DAO_VAR} = new {DAO_CLASS}();\nDataSet info = {DAO_VAR}.get(id);\n\nif(!info.next()) {\n    m.jsError(\"데이터를 찾을 수 없습니다.\");\n    return;\n}\n\n// 날짜 포맷\ninfo.put(\"reg_date_format\", m.time(\"yyyy-MM-dd HH:mm\", info.s(\"reg_date\")));\ninfo.put(\"mod_date_format\", m.time(\"yyyy-MM-dd HH:mm\", info.s(\"mod_date\")));\n\n// 작성자 본인 여부\ninfo.put(\"is_author\", info.i(\"user_id\") == userId);\n\np.setLayout(\"main\");\np.setBody(\"board.view\");\np.setVar(info);\np.setVar(\"title\", info.s(\"title\"));\np.display();\n\n%>",
  "html_template": "<div class=\"row justify-content-center\">\n    <div class=\"col-md-10\">\n        <div class=\"card shadow\">\n            <div class=\"card-header bg-white py-3\">\n                <h2 class=\"mb-3\">{{title}}</h2>\n                <div class=\"d-flex justify-content-between align-items-center text-muted\">\n                    <div>\n                        <span class=\"me-3\">{{user_name}}</span>\n                        <span class=\"me-3\">{{reg_date_format}}</span>\n                        <span>조회 {{hit}}</span>\n                    </div>\n                    <!--@if(mod_date_format)-->\n                    <small>수정일: {{mod_date_format}}</small>\n                    <!--/if(mod_date_format)-->\n                </div>\n            </div>\n            <div class=\"card-body p-4\">\n                <div style=\"min-height: 300px; white-space: pre-wrap;\">{{content}}</div>\n            </div>\n            <div class=\"card-footer bg-white py-3\">\n                <div class=\"d-flex justify-content-between\">\n                    <a href=\"list.jsp\" class=\"btn btn-outline-secondary\">목록으로</a>\n                    <div class=\"d-flex gap-2\">\n                        <!--@if(is_author)-->\n                        <a href=\"modify.jsp?id={{id}}\" class=\"btn btn-primary\">수정</a>\n                        <button type=\"button\" class=\"btn btn-danger\" data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\">삭제</button>\n                        <!--/if(is_author)-->\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- 삭제 확인 모달 -->\n<div class=\"modal fade\" id=\"deleteModal\">\n    <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n            <form method=\"POST\" action=\"delete.jsp\">\n                <input type=\"hidden\" name=\"id\" value=\"{{id}}\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">삭제 확인</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\"></button>\n                </div>\n                <div class=\"modal-body\">정말로 삭제하시겠습니까?</div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">취소</button>\n                    <button type=\"submit\" class=\"btn btn-danger\">삭제</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>",
  "notes": [
    "p.setVar(info)로 DataSet 전체 필드를 템플릿 변수로 전달",
    "info.put()으로 날짜 포맷, 작성자 여부 등 가공된 데이터 추가",
    "is_author로 수정/삭제 버튼 표시 제어",
    "삭제는 POST 폼 + 모달로 처리"
  ]
}
